# 筛选RSS源，制作新的全文RSS源
**问题**：假如你喜欢的网站只提供摘要型的RSS源，但是你希望能在RSS阅读器中阅读全文RSS，同时还希望它只推送某些特定的文章
**解决方法**：利用Huginn制作一个经过筛选的全文RSS源，实现方法如下：
1. RSSAgent：获取并解析网站提供的RSS源；
2. TriggerAgent：过滤RSS源中的项目；
3. WebsiteAgent：通过RSS源中的项目获取文章的全文；
4. DataOutputAgent：输出全文RSS。

## 1. RSSAgent
_Name_: Example RSS In
```
{
  "expected_update_period_in_days": "14",
  "clean": "false",
  "url": "http://www.businesscat.happyjar.com/feed/"
}
```
## 2. TriggerAgent
_Name_: Example filter
_Event sources_: Example RSS In
_Propagate immediately_: Yes
```
{
  "expected_receive_period_in_days": "14",
  "keep_event": "true",
  "rules": [
    {
      "type": "regex",
      "value": ".*\\/comic\\/.*",
      "path": "url"
    }
  ]
}
```
> **注意**：将`keep_event`设置为`true`，从而将解析的项目元素传递给下一个agent

## 3. WebsiteAgent
_Name_: Example page fetch  
_Event sources_: Example filter  
_Propagate immediately_: Yes  
```
{
  "expected_update_period_in_days": "14",
  "url": "{{url}}",
  "type": "html",
  "mode": "merge",
  "extract": {
    "imgurl": {
      "css": "\#comic img",
      "value": "@src"
    }
  }
}
```
> **注意**：将`mode`设置为`merge`，从而将解析的项目元素传递给下一个agent

## 4. DataOutputAgent
_Name_: Example Rss out  
_Event sources_: Example page fetch  
_Propagate immediately_: Yes  
```
{
  "secrets": [
    "examplerss"
  ],
  "expected_receive_period_in_days": "14",
  "template": {
    "title": "Business Cat full comic feed",
    "description": "This is a feed of recent Business Cat comics generated by Huginn",
    "item": {
      "title": "{{title}}",
      "description": "<img src=\"{{imgurl}}\" />",
      "link": "{{url}}",
      "pubDate": "{{pubDate}}"
    }
  }
}
```
 